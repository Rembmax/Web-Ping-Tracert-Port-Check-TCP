<?PHP
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
function getUserIP()
{
   $client  = @$_SERVER['HTTP_CLIENT_IP'];
   $forward = @$_SERVER['HTTP_X_FORWARDED_FOR'];
   $remote  = $_SERVER['REMOTE_ADDR'];
   if(filter_var($client, FILTER_VALIDATE_IP))
   {
       $ip = $client;
   }
   elseif(filter_var($forward, FILTER_VALIDATE_IP))
   {
       $ip = $forward;
   }
   else
   {
       $ip = $remote;
   }
   return $ip;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
function Ping($ip){
$result = shell_exec("ping '$ip' -c 5");
return $result;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
function Nmap($ip){
$result = shell_exec("nmap -vvv '$ip'");
return $result;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
function Tracert($ip){
$result = shell_exec("traceroute '$ip'");
return $result;
}
?>
